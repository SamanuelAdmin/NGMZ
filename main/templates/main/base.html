{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="html">
    <head>
        <title>{{ title }} - {% trans 'ABCompanyName' %}</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="shortcut icon" type="image/jpg" href="{% static 'main/media/favicon.png' %}"/>
        <link rel="stylesheet" href="{% static 'main/css/base.css' %}">
        {% block styles %}{% endblock %}

{#        adding font #}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    </head>
    <body>
        {% if messages %}
            <div class="messages-box" id="messagesBox" onclick="this.classList.add('fade-out');">
                {% for message in messages %}
                    <div class="message container">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>

            <script>
                setTimeout(
                    () => document.getElementById('messagesBox').classList.add('fade-out'), 12000
                )
            </script>
        {% endif %}

        <div class="loading-animation" id="loadingAnimation">
            <svg width="100" height="100" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <g class="gear-rotate">
                    <path
                      id=gear
                      d="M19.4298 12.98C19.4698 12.66 19.4998 12.34 19.4998 12C19.4998 11.66 19.4698 11.34 19.4298 11.02L21.5398
                      9.37C21.7298 9.22 21.7798 8.95 21.6598 8.73L19.6598 5.27C19.5698 5.11 19.3998 5.02 19.2198 5.02C19.1598
                      5.02 19.0998 5.03 19.0498 5.05L16.5598 6.05C16.0398 5.65 15.4798 5.32 14.8698 5.07L14.4898 2.42C14.4598
                      2.18 14.2498 2 13.9998 2H9.99984C9.74984 2 9.53984 2.18 9.50984 2.42L9.12984 5.07C8.51984 5.32 7.95984
                      5.66 7.43984 6.05L4.94984 5.05C4.88984 5.03 4.82984 5.02 4.76984 5.02C4.59984 5.02 4.42984 5.11 4.33984
                      5.27L2.33984 8.73C2.20984 8.95 2.26984 9.22 2.45984 9.37L4.56984 11.02C4.52984 11.34 4.49984 11.67
                      4.49984 12C4.49984 12.33 4.52984 12.66 4.56984 12.98L2.45984 14.63C2.26984 14.78 2.21984 15.05 2.33984
                      15.27L4.33984 18.73C4.42984 18.89 4.59984 18.98 4.77984 18.98C4.83984 18.98 4.89984 18.97 4.94984
                      18.95L7.43984 17.95C7.95984 18.35 8.51984 18.68 9.12984 18.93L9.50984 21.58C9.53984 21.82 9.74984
                      22 9.99984 22H13.9998C14.2498 22 14.4598 21.82 14.4898 21.58L14.8698 18.93C15.4798 18.68 16.0398
                      18.34 16.5598 17.95L19.0498 18.95C19.1098 18.97 19.1698 18.98 19.2298 18.98C19.3998 18.98 19.5698
                      18.89 19.6598 18.73L21.6598 15.27C21.7798 15.05 21.7298 14.78 21.5398 14.63L19.4298 12.98ZM17.4498
                      11.27C17.4898 11.58 17.4998 11.79 17.4998 12C17.4998 12.21 17.4798 12.43 17.4498 12.73L17.3098
                      13.86L18.1998 14.56L19.2798 15.4L18.5798 16.61L17.3098 16.1L16.2698 15.68L15.3698 16.36C14.9398
                      16.68 14.5298 16.92 14.1198 17.09L13.0598 17.52L12.8998 18.65L12.6998 20H11.2998L11.1098 18.65L10.9498
                      17.52L9.88984 17.09C9.45984 16.91 9.05984 16.68 8.65984 16.38L7.74984 15.68L6.68984 16.11L5.41984
                      16.62L4.71984 15.41L5.79984 14.57L6.68984 13.87L6.54984 12.74C6.51984 12.43 6.49984 12.2 6.49984
                      12C6.49984 11.8 6.51984 11.57 6.54984 11.27L6.68984 10.14L5.79984 9.44L4.71984 8.6L5.41984 7.39L6.68984
                      7.9L7.72984 8.32L8.62984 7.64C9.05984 7.32 9.46984 7.08 9.87984 6.91L10.9398 6.48L11.0998 5.35L11.2998
                      4H12.6898L12.8798 5.35L13.0398 6.48L14.0998 6.91C14.5298 7.09 14.9298 7.32 15.3298 7.62L16.2398
                      8.32L17.2998 7.89L18.5698 7.38L19.2698 8.59L18.1998 9.44L17.3098 10.14L17.4498 11.27ZM11.9998 8C9.78984
                      8 7.99984 9.79 7.99984 12C7.99984 14.21 9.78984 16 11.9998 16C14.2098 16 15.9998 14.21 15.9998 12C15.9998
                      9.79 14.2098 8 11.9998 8ZM11.9998 14C10.8998 14 9.99984 13.1 9.99984 12C9.99984 10.9 10.8998 10 11.9998
                      10C13.0998 10 13.9998 10.9 13.9998 12C13.9998 13.1 13.0998 14 11.9998 14Z"
                      fill="#000000"
                    />
                </g>
            </svg>

            <script>
                setTimeout(() => {
                    const anim = document.getElementById('loadingAnimation');
                    anim.classList.add('fade-out');

                }, 500);
            </script>
        </div>


        <div class="change-lang-field" id="changeLanguageWindow">
            {% get_current_language as LANGUAGE_CODE %}
            {% get_available_languages as LANGUAGES %}
            {% get_language_info_list for LANGUAGES as languages %}

            <div class="title">Choose your language: </div>

            {% for language in languages %}
                <form action="{% url 'set_language' %}" method="post">
                    {% csrf_token %}
                    <input type="hidden" name="language" value="{{ language.code }}">
                    <input class="setLanguageInput" type="submit" value="{{ language.name_local }} ({{ language.code }})" />
                </form>
            {% endfor %}
        </div>


        <div class="image-viewer container-wrapper hidden" id="imageViewer">
            <img id="imageToView" class="container" src="{% static 'main/media/main_page/1.jpg' %}">
        </div>

        <div class="content" id="mainContent">
            <div class="header-wrapper container-wrapper">
                <div class="header container">
                    <a class="logo" href="{% url 'index' %}">
                        <img class="image" src="{% static 'main/media/logo.png' %}">
                    </a>

                    <div class="menu">
                        {% for tag, link in mainMenu %}
                            <a class="menu-item {% if tag == menuSelect %}selected{% endif %}"
                               href="{% url link %}">{% trans tag %}</a>
                        {% endfor %}
                    </div>

                    <form class="search-form" method="get" action="{% url 'category' %}">
                        <input class="search-input" type="text" name="query" placeholder="{% trans 'SEARCH' %}...">

                        <button class="search-button" type="submit">
                            <img class="search-icon" src="{% static 'main/media/search.png' %}">
                        </button>
                    </form>
                </div>
            </div>

            {% block body %}
            {% endblock %}

        </div>

        <div class="footer-box container-wrapper">
            <div class="footer container">
                <div class="title">
                    {% trans 'FooterName' %}
                </div>

                <div class="logo">
                    <img class="image" src="{% static 'main/media/logo.png' %}">
                </div>

                <div class="footer-info-phone">
                    <p>{% trans 'PHONE' %}: +38 (050) 326-68-72</p>
                    <p>{% trans 'PHONE' %}: +38 (099) 544-86-06</p>
                </div>
            </div>
        </div>


        <script src="{% static 'main/js/smooth_scroll.js' %}"></script>
        <script src="{% static 'main/js/image_viewer.js' %}"></script>
        <script src="{% static 'main/js/on_set_lang.js' %}"></script>
    </body>
</html>